# ğŸ§® ë©€í‹°ëª¨ë‹¬ í•œêµ­ì–´ ìˆ˜í•™ ì¶”ë¡  ë²¤ì¹˜ë§ˆí¬

í•œêµ­ì–´ | [English](/docs/en/README_en.md)

## ê°œìš”

ì´ ì €ì¥ì†ŒëŠ” **í•œêµ­ì–´ ìˆ˜í•™ ì¶”ë¡  ì‘ì—…**ì— ëŒ€í•œ **ë©€í‹°ëª¨ë‹¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(MLLMs)**ì„ í‰ê°€í•˜ê¸° ìœ„í•œ ì¢…í•©ì ì¸ ë²¤ì¹˜ë§ˆí¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. [VLMEvalKit](https://github.com/open-compass/VLMEvalKit)ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, í•œêµ­ì–´ ìˆ˜í•™ ë¬¸ì œë¥¼ ì´í•´í•˜ê³  í•´ê²°í•˜ëŠ” ëª¨ë¸ì˜ ëŠ¥ë ¥ì„ í‰ê°€í•˜ê¸° ìœ„í•œ ì—„ê²©í•œ í‰ê°€ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ë°ì´í„°ì…‹ êµ¬ì„±

### 1. KMM-VisMath [[huggingface](https://huggingface.co/datasets/Tutoruslabs/KMMVisMath)]
- **êµ¬ì„±**: ìˆ˜í•™ ë¬¸ì œ í•´ê²°ì— í•„ìš”í•œ í•µì‹¬ ì •ë³´(ê°€ê²©, ìˆ˜ëŸ‰, ì¸¡ì •ê°’ ë“±)ê°€ ì´ë¯¸ì§€ë¡œ ì œì‹œë˜ê³ , ì´ë¥¼ í™œìš©í•˜ì—¬ í’€ì–´ì•¼ í•˜ëŠ” í•œêµ­ì–´ ì§ˆì˜ë¬¸ ë° ë‹¨ê³„ë³„ ì¶”ë¡  ê³¼ì •ìœ¼ë¡œ êµ¬ì„±.
- **ë°ì´í„° ìˆ˜ëŸ‰**: ë³µí•©ì¶”ë¡  ë°ì´í„° 167ê°œ, ë‹¨ìˆœì¶”ë¡  ë°ì´í„° 1,888ê°œ
- **íŠ¹ì§•**: ì´ë¯¸ì§€ ë‚´ ì‹œê°ì •ë³´ë¥¼ ì •í™•íˆ ì¸ì‹í•˜ê³  ì§ˆì˜ë¬¸ì—ì„œ ìš”êµ¬í•˜ëŠ” ìˆ˜í•™ì  ì—°ì‚°ì„ ìˆ˜í–‰í•´ì•¼ ë‹µë³€ ê°€ëŠ¥í•œ ë³µí•© ì¶”ë¡  ë¬¸ì œ
- **ëª©ì **: ì‹œê°-ì–¸ì–´ ëª¨ë¸ì˜ ì‹œê° ì •ë³´ ì¶”ì¶œ ëŠ¥ë ¥, í•œêµ­ì–´ ì´í•´ ëŠ¥ë ¥, ìˆ˜í•™ì  ì¶”ë¡  ëŠ¥ë ¥ì„ í†µí•©ì ìœ¼ë¡œ í‰ê°€í•˜ê¸° ìœ„í•œ ë²¤ì¹˜ë§ˆí¬ ë°ì´í„°ì…‹

### 2. í•œêµ­ì–´ ChartQA [[huggingface](https://huggingface.co/datasets/Tutoruslabs/ChartQA_KOR)]
- **êµ¬ì„±**: ì°¨íŠ¸ ë° ê·¸ë˜í”„ ì´ë¯¸ì§€(ë§‰ëŒ€, ì„ , íŒŒì´ ì°¨íŠ¸ ë“±)ì™€ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ í•œêµ­ì–´ ì§ˆì˜ë¬¸ ë° ë‹µë³€ìœ¼ë¡œ êµ¬ì„±ëœ ë©€í‹°ëª¨ë‹¬ ë°ì´í„°ì…‹. 
- **ë°ì´í„° ìˆ˜ëŸ‰**: ì§ˆì˜/ë‹µë³€ ë°ì´í„° 2,000ê°œ (ì°¨íŠ¸ ì´ë¯¸ì§€ 1,000ê°œ)
- **íŠ¹ì§•**: ì›ë³¸ ChartQAì˜ ì˜ì–´ ì°¨íŠ¸ ì´ë¯¸ì§€ë¥¼ í•œêµ­ì–´ë¡œ ë²ˆì—­í•˜ì—¬, ì°¨íŠ¸ ë‚´ ë ˆì´ë¸”, ë²”ë¡€, ì¶•, ì œëª© ë“± ëª¨ë“  í…ìŠ¤íŠ¸ ìš”ì†Œê°€ í•œêµ­ì–´ë¡œ ì œê³µë¨
- **ëª©ì **: ì‹œê°-ì–¸ì–´ ëª¨ë¸ì˜ í•œêµ­ì–´ ì°¨íŠ¸ í•´ì„ ëŠ¥ë ¥, ì‹œê° ë°ì´í„° ë¶„ì„ ëŠ¥ë ¥, ê·¸ë˜í”„ ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ ëŠ¥ë ¥ì„ í‰ê°€í•˜ê¸° ìœ„í•œ ë°ì´í„°ì…‹

### 3. ì´ˆë“± ìˆ˜í•™ ë©€í‹°ëª¨ë‹¬ ë°ì´í„° [[huggingface](https://huggingface.co/datasets/Tutoruslabs/ELEMENTARY_MATH)]
- **êµ¬ì„±**: ê³µê°„ ì§€ê°, íŒ¨í„´ ì¸ì‹, ë…¼ë¦¬ì  ì‚¬ê³  ë“± ì´ˆë“±í•™ìƒ ìˆ˜ì¤€ì˜ ìˆ˜í•™ì  ì‚¬ê³ ë ¥ì„ ìš”êµ¬í•˜ëŠ” ì´ë¯¸ì§€ì™€ í•œêµ­ì–´ ì§ˆì˜ë¬¸ ë° ë‹µë³€ìœ¼ë¡œ êµ¬ì„±ëœ ë²¤ì¹˜ë§ˆí¬ ë°ì´í„°ì…‹
- **ë°ì´í„° ìˆ˜ëŸ‰**: ì§ˆì˜/ë‹µë³€ ë°ì´í„° 448ê°œ 
- **íŠ¹ì§•**: ë‹¨ìˆœ ê³„ì‚°ì´ ì•„ë‹Œ ì‹œê°ì  ì¶”ë¡ ì´ í•„ìš”í•œ ë¬¸ì œ(ex. ì—¬ëŸ¬ ë°©í–¥ì—ì„œ ë³¸ ë¸”ë¡ ê°œìˆ˜ ì¶”ë¡ , ë„í˜• íšŒì „ ë° ë³€í™˜ ë“±)ë¡œ, ì´ë¯¸ì§€ ê¸°ë°˜ ê³µê°„ ì¸ì§€ ë° ë…¼ë¦¬ì  ì‚¬ê³  ëŠ¥ë ¥ í‰ê°€
- **ëª©ì **: ì‹œê°-ì–¸ì–´ ëª¨ë¸ì˜ ì´ˆë“± ìˆ˜ì¤€ ìˆ˜í•™ì  ì‚¬ê³ ë ¥, ì‹œê°ì  ì¶”ë¡  ëŠ¥ë ¥, ê³µê°„ ì§€ê° ëŠ¥ë ¥ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê¸° ìœ„í•œ ë²¤ì¹˜ë§ˆí¬ ë°ì´í„°ì…‹

## ì‹œì‘í•˜ê¸°

> **ì°¸ê³ **: ì´ ì €ì¥ì†ŒëŠ” [VLMEvalKit](https://github.com/open-compass/VLMEvalKit.git)ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. ë” ìì„¸í•œ ë¬¸ì„œëŠ” ì›ë³¸ ì €ì¥ì†Œë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### 1. ì„¤ì¹˜

#### PyTorch ì„¤ì¹˜

ë¨¼ì € PyTorchê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì‹œìŠ¤í…œì— ë§ëŠ” ì„¤ì¹˜ ë°©ë²•ì€ [PyTorch ê³µì‹ ì›¹ì‚¬ì´íŠ¸](https://pytorch.org/get-started/locally/)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

```bash
# ì˜ˆì‹œ: CUDA ì§€ì›ê³¼ í•¨ê»˜ PyTorch ì„¤ì¹˜
pip install torch torchvision torchaudio
```

#### 2. ì˜ì¡´ì„± ì„¤ì¹˜

pipë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤:

```bash
pip install -e .
```

#### 3. Flash Attention ì„¤ì¹˜

ìµœì í™”ëœ ì¶”ë¡ ì„ ìœ„í•´ flash-attentionì„ ì„¤ì¹˜í•©ë‹ˆë‹¤:

```bash
pip install flash-attn --no-build-isolation
```

### 2. ë°ì´í„°ì…‹ ì¤€ë¹„

#### 1. ë°ì´í„°ì…‹ ê¶Œí•œ ìš”ì²­
- KMM-VisMath [[huggingface](https://huggingface.co/datasets/Tutoruslabs/KMMVisMath)]
- ChartQA_KOR [[huggingface](https://huggingface.co/datasets/Tutoruslabs/ChartQA_KOR)]
- ELEMENTARY_MATH [[huggingface](https://huggingface.co/datasets/Tutoruslabs/ELEMENTARY_MATH)]

#### 2. í‰ê°€ìš© ë°ì´í„°ì…‹ ë‹¤ìš´ë¡œë“œ
VLMEvalKit í‰ê°€ìš© ë°ì´í„°ì…‹ ë‹¤ìš´ë¡œë“œ

```bash
sh prepare_dataset.sh
```

### 3. ì¶”ë¡  ë° í‰ê°€

#### 1. ì˜¤í”ˆì†ŒìŠ¤ ì‹œê°-ì–¸ì–´ ëª¨ë¸ ì¶”ë¡  ë° í‰ê°€

```bash
export LMUData="./playground"
torchrun --nproc-per-node=2 run.py \
--data KMMVisMath \ # KMMVisMath, ELEMENTARY_MATH
--model <MODEL> \ # ex. Qwen2-VL-7B, InternVL3 (ref. ./vlmeval/config.py)
--mode all \ 
--verbose \
--work-dir ./outputs/chartqa_kor
```

#### 2. ìƒìš© ì‹œê°-ì–¸ì–´ ëª¨ë¸ ì¶”ë¡  ë° í‰ê°€

- í™˜ê²½ë³€ìˆ˜(.env) ì„¤ì • `$VLMEvalkit/.env`
```
# The .env file, place it under $VLMEvalKit
# API Keys of Proprietary VLMs
# QwenVL APIs
DASHSCOPE_API_KEY=
# Gemini w. Google Cloud Backends
GOOGLE_API_KEY=
# OpenAI API
OPENAI_API_KEY=
OPENAI_API_BASE=
# StepAI API
STEPAI_API_KEY=
# REKA API
REKA_API_KEY=
# GLMV API
GLMV_API_KEY=
# CongRong API
CW_API_BASE=
CW_API_KEY=
# SenseNova API
SENSENOVA_API_KEY=
# Hunyuan-Vision API
HUNYUAN_SECRET_KEY=
HUNYUAN_SECRET_ID=
# LMDeploy API
LMDEPLOY_API_BASE=
# You can also set a proxy for calling api models during the evaluation stage
EVAL_PROXY=
```

- ìƒìš©ëª¨ë¸ í‰ê°€ ìŠ¤í¬ë¦½íŠ¸
```bash
export LMUData="./playground"
python run.py \
--data KMMVisMath \ # ChartQA_KOR, ELEMENTARY_MATH
--model <MODEL> \ # ex. GeminiFlash2-5 (ref. ./vlmeval/config.py)
--mode all \ 
--verbose \
--work-dir ./outputs/chartqa_kor
```
